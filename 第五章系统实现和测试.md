## 第五章系统实现和测试

### 1.系统环境

操作系统：支持Windows和Linux跨平台,生产环境采用Docker容器化部署，基础镜像依赖于CentOS

Java版本：1.8

SpringBoot版本：2.4.3

Vue版本：2.0

ElementUI版本：3.26.0

数据库版本：Mysql5.7.17，Redis7.0.4

RabbitMQ版本:3.8.34

Docker版本: 20.10.17

ElasticSearch版本: 7.14.0

### 2.  系统实现

系统首页如图2-1所示。点击进入功能按钮，进入系统内部功能页面。进入功能页面后，系统首先会检测用户是否登录，若用户未登录，则出现“您尚未登录，可能会影响功能使用”的提醒框。用户需点击右上角登录与注册按钮，然后弹出选项卡如图2-2所示，进行登录或注册。

#### 2.1 教授申请实现

普通咨询者注册成功进入系统之后，可以点击咨询下的”点此申请“成为志愿教授，申请成为志愿教授需要提供身份证号和个人简历，以便管理员审核个人资历。

在管理员进行审核通过之后，用户会收到消息提示，并且身份切换为教授，教授具有咨询者的所有功能。在咨询者的基础上，教授额外拥有接收提问以及回答问题的功能。

点击问答中心，可以查看到所有对自己的提问以及自己的所有回答，如下图

![问答中心]()

#### 2.2 咨询实现

普通咨询者进入系统之后，可以根据不同的咨询领域查看不同领域的志愿教授，并且进行提问，例如查询计算机领域Java编程相关方面的教授，点击咨询按钮可以向教授发起提问，然后可以收到教授的回答。用户也可以预约咨询时间，教授会收到咨询时间的消息。教授同意咨询之后，用户可以在指定时间与教授发起私聊，进行在线咨询。

私聊效果如下图

![私聊]()

#### 2.3 系统资讯实现

普通咨询者可以在资讯版权，看到系统收集的各个领域的行业咨询，例如出国留学的国家新规，计算机领域的核心课程，目标高校的录取分数线等等行业资讯。

管理员可以在后台维护资讯信息，对于过期信息可以进行归档或者删除，对于新信息，可以编写并且上线。

#### 2.4 咨询领域实现

咨询领域用于对问题以及教授资源进行分类，如出国留学，大学课程，生活常识，等等类别，可以动态进行维护，总体而言，咨询领域的实现基于一个树形结构，也是大类下有中类，中类下还有小类。以"编译器设计"这个类别距离，这个领域可以添加到 大学-工学-计算机-编译原理的类别下。

咨询者在第一次进入系统，系统会提示其选择感兴趣的领域，用于针对性推荐可能感兴趣的问题，进行经典问答推荐，实现推荐的算法主要基于协同过滤

此外，咨询领域还用于对教授进行分类，区分不同领域的教授，使得咨询者可以针对性的对不同领域的教授针对性进行提问或者对于交叉学科进行联合提问

#### 2.5 提问回答实现

除了在线咨询之外，普通咨询者可以在问答中心发布问题，如下图

通过添加问题详情，描述，指定咨询领域以及提问的目标教授，即可以发布问题。发布的问题首先会进入审核状态，管理员后台有专门的审核员进行问答的审核 这个板块在后文的管理员模块进行介绍。在审核通过后，教授可以收到提问消息，收到的提问消息如下图

![图片暂无]()

也可以选择问题进行回答。同样，教授发布的回答也要先经过管理员审核，随后才会进入问答搜索版块。

#### 2.6 问答搜索实现

问答的搜索主要采用ElasticSearch(以下简称ES)搜索引擎实现，系统将一个问题以及所属的回答包含的主要字段作为一条索引存储到ES当中，利用ES提供的api可以很方便的进行模糊，全文，多条件索引查询，搜索界面如下图

![图片暂无]()

另外，索引与数据库之间的同步问题也是系统设计的一个难点，本系统主要采用的是先更新数据库，再删除索引的策略来更新索引内容

#### 2.7 短信验证码实现

用户在登录，注册，修改密码的时候都需要用到短信服务，如下图

![图片暂无]()

本系统主要采用的是阿里云的短信测试服务（测试使用)，短信的发送过程如下：项目的mail模块订阅短信发布消息队列，并且通过阿里云的SDK连接到短信发送服务。当消息队列中出现新的短信发送内容，就解析队列信息，通过阿里云的SDK包生成新信息进行发送。

#### 2.8 系统资讯实现

系统在首页提供了资讯模块，用于向用户展示各个行业的热门资讯，例如考研信息，国外名校招生信息，录取分数线，行业发展新规等等

如下图

![图片暂无]()

这些内容主要由后台资讯管理员进行发布，主要包含资讯图片，资讯内容，资讯来源三个主要部分。

#### 2.9 后台管理实现

### 3.系统测试

#### 3.1 功能测试

软件测试是软件开发中必不可少的环节，为保障系统运行时的高可靠性和准确性，需要进行一系列测试来判断系统是否有效满足功能性需求和非功能性需求，并对测试过程中出现的漏洞进行及时的修复，最终保障软件以高质量平稳运行。

软件测试方法主要分为黑盒测试和白盒测试。黑盒测试从用户角度出发，主要是针对软件各项功能的测试。白盒测试是指在了解软件内部结构情况下，对全部逻辑路径进行测试。

本文采用黑盒测试的方法，对系统各大功能模块进行测试。

##### 3.1.1 xxxxx测试

##### 3.1.2 xxxxxx测试